<script setup>
// [F08] 1. Pinia Store ë° ìœ í‹¸ë¦¬í‹° ê°€ì ¸ì˜¤ê¸°
import { useAuthStore } from '@/stores/auth'
import { storeToRefs } from 'pinia' // ë°˜ì‘ì„±ì„ ìœ ì§€í•˜ë©° stateë¥¼ êº¼ë‚´ê¸° ìœ„í•´ ì‚¬ìš©

defineProps({
  msg: {
    type: String,
    required: true,
  },
})

// [F08] 2. Store ì´ˆê¸°í™” ë° ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
const authStore = useAuthStore()
// storeToRefsë¥¼ ì‚¬ìš©í•´ì•¼ userë‚˜ isLogin ê°’ì´ ë°”ë€Œì—ˆì„ ë•Œ í™”ë©´ë„ ê°™ì´ ë°”ë€ë‹ˆë‹¤.
const { user, isLogin } = storeToRefs(authStore)
</script>

<template>
  <div class="greetings">
    <h1 class="green">{{ msg }}</h1>

    <div v-if="isLogin && user">
      <h3>
        ì•ˆë…•í•˜ì„¸ìš”, <strong>{{ user.nickname || user.username }}</strong>ë‹˜! ğŸ‘‹<br>
        í˜„ì¬ ë³´ìœ  ìì‚°ì€ <strong>{{ user.money?.toLocaleString() }}ì›</strong> ì…ë‹ˆë‹¤.
      </h3>
    </div>

    <div v-else>
      <h3>
        Youâ€™ve successfully created a project with
        <a href="https://vite.dev/" target="_blank" rel="noopener">Vite</a> +
        <a href="https://vuejs.org/" target="_blank" rel="noopener">Vue 3</a>.
        <br>
        <span class="highlight">ë¡œê·¸ì¸í•˜ì—¬ ìì‚°ì„ í™•ì¸í•´ë³´ì„¸ìš”!</span>
      </h3>
    </div>
  </div>
</template>

<style scoped>
h1 {
  font-weight: 500;
  font-size: 2.6rem;
  position: relative;
  top: -10px;
}

h3 {
  font-size: 1.2rem;
}

.greetings h1,
.greetings h3 {
  text-align: center;
}

/* [F08] 4. ê°•ì¡° ìŠ¤íƒ€ì¼ ì¶”ê°€ */
.highlight {
  color: hsla(160, 100%, 37%, 1);
  font-weight: bold;
  font-size: 0.9em;
}

strong {
  color: hsla(160, 100%, 37%, 1); 
}

@media (min-width: 1024px) {
  .greetings h1,
  .greetings h3 {
    text-align: left;
  }
}
</style>
